<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>UniCron - 模块信息</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="dark-mode">
    <div class="background"></div>

    <div class="container">
        <h1 id="mainTitle">UniCron - 模块信息</h1>

        <div id="moduleInfo" class="card-container">
            <!-- 动态生成的卡片将插入到这里 -->
        </div>
    </div>

    <!-- 转场覆盖层 -->
    <div id="transitionOverlay"></div>

    <script src="scripts.js"></script>
    <script>
        fetch('module.prop')
            .then(response => response.text())
            .then(data => {
                const props = {};
                data.split('\n').forEach(line => {
                    const [key, value] = line.split('=');
                    if (key && value) {
                        props[key.trim()] = value.trim();
                    }
                });

                const moduleInfo = document.getElementById('moduleInfo');

                // 创建模块名卡片
                const nameCard = document.createElement('div');
                nameCard.className = 'card';
                nameCard.innerHTML = `
                    <h2>模块名</h2>
                    <p>${props['name']}</p>
                `;
                moduleInfo.appendChild(nameCard);

                // 创建版本卡片
                const versionCard = document.createElement('div');
                versionCard.className = 'card';
                versionCard.innerHTML = `
                    <h2>版本</h2>
                    <p>${props['version']} (${props['versionCode']})</p>
                `;
                moduleInfo.appendChild(versionCard);

                // 创建作者卡片
                const authorCard = document.createElement('div');
                authorCard.className = 'card';
                authorCard.innerHTML = `
                    <h2>作者</h2>
                    <p>${props['author']}</p>
                `;
                moduleInfo.appendChild(authorCard);

                // 添加加入QQ群按钮
                const joinQQButton = document.createElement('button');
                joinQQButton.textContent = '加入QQ群';
                joinQQButton.onclick = () => {
                    window.open('http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&k=JUQAgmzVKn1Oiy0DIgUANuJ03ywH2uB3&authKey=nvZ6SsNP3c76E3iQVpbmVJ3dteHRJlVz%2FwDPiLyiBpQmU%2B9P0Szv7tO3%2FcIOJz%2Bu&noverify=0&group_code=885986098', '_blank');
                };
                const qqButtonContainer = document.createElement('div');
                qqButtonContainer.className = 'card';
                qqButtonContainer.appendChild(joinQQButton);
                moduleInfo.appendChild(qqButtonContainer);

                // 添加关注作者链接
                const followAuthor_coolapk = document.createElement('a');
                followAuthor.href = 'http://www.coolapk.com/u/17845477';
                followAuthor.textContent = '关注作者：酷安@LIghtJUNction';
                followAuthor.target = '_blank';
                const followAuthorCard_coolapk = document.createElement('div');
                followAuthorCard.className = 'card';
                followAuthorCard.appendChild(followAuthor);
                moduleInfo.appendChild(followAuthorCard);
                
                // 添加关注作者链接
                const followAuthor_github = document.createElement('a');
                followAuthor.href = 'https://github.com/LIghtJUNction';
                followAuthor.textContent = '我的 GitHub@LIghtJUNction';
                followAuthor.target = '_blank';
                const followAuthorCard_github = document.createElement('div');
                followAuthorCard.className = 'card';
                followAuthorCard.appendChild(followAuthor);
                moduleInfo.appendChild(followAuthorCard);
            })
            .catch(error => {
                console.error('读取 module.prop 失败:', error);
                const moduleInfo = document.getElementById('moduleInfo');
                moduleInfo.innerHTML = '<p>作者 @LIghtJUNction</p>';
            });
    </script>
</body>
</html>