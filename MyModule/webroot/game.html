<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Crond防御游戏</title>
    <link rel="stylesheet" href="game.css">
</head>
<body class="dark-mode">
    <div class="background"></div>

    <div class="container">
        <!-- 主菜单 -->
        <div id="mainMenu" class="card">
            <h1>Crond防御游戏</h1>
            <div class="btn-group">
                <button class="btn" id="startGameButton">开始游戏</button>
                <button class="btn" id="showInstructionsButton">游戏说明</button>
            </div>
        </div>

        <!-- 游戏说明界面 -->
        <div id="instructionsScreen" class="card" style="display:none;">
            <h2>游戏说明</h2>
            <p>在此游戏中，玩家需要部署防御脚本来保护 <code>crond</code> 进程免受敌人的攻击。通过拖拽防御卡片到部署区，合理管理资源，提升分数。当生命值降至 0 时，游戏结束。</p>
            <button class="btn" id="backToMenuButton">返回菜单</button>
        </div>

        <!-- 现有游戏界面 -->
        <div id="gameContainer" class="card" style="display:none;">
            <div id="infoBoard">
                <span id="score">分数: 0</span>
                <span id="health">生命值: 100</span>
                <span id="resources">资源: 100</span>
                <span id="level">关卡: 1</span>
            </div>
            <div id="defenseSelectionArea">
                <div class="defenseCard btn" draggable="true" data-type="monitorCron">监控Cron</div>
                <div class="defenseCard btn" draggable="true" data-type="autoRestart">自动重启</div>
                <div class="defenseCard btn" draggable="true" data-type="firewall">防火墙</div>
            </div>
            <div id="defenseDeploymentArea"></div>
            <div id="enemyAttackArea"></div>
            <canvas id="gameCanvas" width="800" height="400" style="background-color: #111; display: block; margin: 20px auto;"></canvas>
            <div id="notificationArea"></div>
            <div id="gameOverScreen" class="card" style="display:none;">
                <h1>游戏结束</h1>
                <p>最终分数: <span id="finalScore">0</span></p>
                <div class="btn-group">
                    <button class="btn" id="restartButton">重新开始</button>
                    <button class="btn" id="exitButton">退出游戏</button>
                </div>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>